name: Run Coverity scan and upload results

on:
  workflow_dispatch:
  schedule:
    - cron:  '0 10 1 * *'    # monthly


jobs:
  coverity-scan:
    uses: wultra/wultra-infrastructure/.github/workflows/coverity-scan.yml@issues/14_add_directory_parameter
    secrets: inherit
    with:
      project-name: ${{ github.event.repository.name }}
      version: ${{ github.sha }}
      description: ${{ github.ref }}
      directory_path: powerauth-data-adapter
